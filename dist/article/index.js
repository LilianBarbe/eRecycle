"use strict";(()=>{document.addEventListener("DOMContentLoaded",()=>{let r=document.querySelector(".blog-article_text"),l=document.querySelector(".blog-article_toc");l&&r&&(()=>{let t=r.querySelectorAll("h2"),e=document.createDocumentFragment();t.forEach(c=>{let d=c.textContent.trim(),u=`toc-${d.toLowerCase().replace(/\s+/g,"-")}`;c.id=u;let m=document.createElement("li"),n=document.createElement("a");n.textContent=d,n.href=`#${u}`,m.appendChild(n),e.appendChild(m)});let o=document.createElement("ul");o.appendChild(e),l.appendChild(o)})();let a=document.querySelectorAll("[toc-wrap] a"),h=document.querySelectorAll("[article] [id]"),s=t=>{a.forEach(e=>{e.classList[e.getAttribute("href")==="#"+t?"add":"remove"]("active-toc")})};a.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();let o=e.target.getAttribute("href").substring(1);s(o),document.getElementById(o).scrollIntoView()})}),h.forEach(t=>{t.addEventListener("click",()=>{s(t.getAttribute("id"))})});let g=new IntersectionObserver(t=>{t.forEach(e=>{let o=e.target.getAttribute("id");e.isIntersecting&&(document.querySelectorAll(".active-toc").forEach(c=>c.classList.remove("active-toc")),document.querySelector(`a[href="#${o}"]`).classList.add("active-toc"))})},{rootMargin:"0px 0px -50% 0px"});document.querySelector("[article]").querySelectorAll("h2").forEach(t=>g.observe(t));let i=()=>{if(location.hash.length!==0){let t=location.hash.substring(1),e=document.getElementById(t);if(e){let o=e.getBoundingClientRect().top-100;window.scrollTo(window.scrollX,window.scrollY+o)}}};window.addEventListener("hashchange",i),window.setTimeout(i,1)});})();
